{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/home/Desktop/fullstack-boilerplate/blogr-nextjs-prisma/pages/index.tsx\";\n\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport Layout from \"../components/Layout\";\nimport Post from \"../components/Post\";\nimport prisma from '../lib/prisma'; // export const getStaticProps: GetStaticProps = async () => {\n//   const feed = [\n//     {\n//       id: 1,\n//       title: \"Prisma is the perfect ORM for Next.js\",\n//       content: \"[Prisma](https://github.com/prisma/prisma) and Next.js go _great_ together!\",\n//       published: false,\n//       author: {\n//         name: \"Nikolas Burk\",\n//         email: \"burk@prisma.io\",\n//       },\n//     },\n//   ]\n//   return { props: { feed } }\n// }\n\nfunction main() {\n  return _main.apply(this, arguments);\n}\n\nfunction _main() {\n  _main = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var allUsers;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return prisma.user.findMany({\n              include: {\n                posts: true\n              }\n            });\n\n          case 2:\n            allUsers = _context2.sent;\n            // use `console.dir` to print nested objects\n            console.dir(allUsers, {\n              depth: null\n            });\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _main.apply(this, arguments);\n}\n\nmain()[\"catch\"](function (e) {\n  throw e;\n})[\"finally\"]( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n  return _regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return prisma.$disconnect();\n\n        case 2:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _callee);\n})));\n\nvar Blog = function Blog(props) {\n  return __jsx(Layout, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-3495282894\" + \" \" + \"page\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, __jsx(\"h1\", {\n    className: \"jsx-3495282894\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, \"Public Feed\"), __jsx(\"main\", {\n    className: \"jsx-3495282894\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, props.feed.map(function (post) {\n    return __jsx(\"div\", {\n      key: post.id,\n      className: \"jsx-3495282894\" + \" \" + \"post\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, __jsx(Post, {\n      post: post,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 15\n      }\n    }));\n  }))), __jsx(_JSXStyle, {\n    id: \"3495282894\",\n    __self: _this\n  }, \".post.jsx-3495282894{background:white;-webkit-transition:box-shadow 0.1s ease-in;transition:box-shadow 0.1s ease-in;}.post.jsx-3495282894:hover{box-shadow:1px 1px 3px #aaa;}.post.jsx-3495282894+.post.jsx-3495282894{margin-top:2rem;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9ob21lL0Rlc2t0b3AvZnVsbHN0YWNrLWJvaWxlcnBsYXRlL2Jsb2dyLW5leHRqcy1wcmlzbWEvcGFnZXMvaW5kZXgudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXdFa0IsQUFHNEIsQUFLVyxBQUlaLGdCQUNsQixDQVRxQyxXQUtyQyxtRUFKQSIsImZpbGUiOiIvVXNlcnMvaG9tZS9EZXNrdG9wL2Z1bGxzdGFjay1ib2lsZXJwbGF0ZS9ibG9nci1uZXh0anMtcHJpc21hL3BhZ2VzL2luZGV4LnRzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgR2V0U3RhdGljUHJvcHMgfSBmcm9tIFwibmV4dFwiXG5pbXBvcnQgTGF5b3V0IGZyb20gXCIuLi9jb21wb25lbnRzL0xheW91dFwiXG5pbXBvcnQgUG9zdCwgeyBQb3N0UHJvcHMgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3N0XCJcbmltcG9ydCBwcmlzbWEgZnJvbSAnLi4vbGliL3ByaXNtYSc7XG5cbi8vIGV4cG9ydCBjb25zdCBnZXRTdGF0aWNQcm9wczogR2V0U3RhdGljUHJvcHMgPSBhc3luYyAoKSA9PiB7XG4vLyAgIGNvbnN0IGZlZWQgPSBbXG4vLyAgICAge1xuLy8gICAgICAgaWQ6IDEsXG4vLyAgICAgICB0aXRsZTogXCJQcmlzbWEgaXMgdGhlIHBlcmZlY3QgT1JNIGZvciBOZXh0LmpzXCIsXG4vLyAgICAgICBjb250ZW50OiBcIltQcmlzbWFdKGh0dHBzOi8vZ2l0aHViLmNvbS9wcmlzbWEvcHJpc21hKSBhbmQgTmV4dC5qcyBnbyBfZ3JlYXRfIHRvZ2V0aGVyIVwiLFxuLy8gICAgICAgcHVibGlzaGVkOiBmYWxzZSxcbi8vICAgICAgIGF1dGhvcjoge1xuLy8gICAgICAgICBuYW1lOiBcIk5pa29sYXMgQnVya1wiLFxuLy8gICAgICAgICBlbWFpbDogXCJidXJrQHByaXNtYS5pb1wiLFxuLy8gICAgICAgfSxcbi8vICAgICB9LFxuLy8gICBdXG4vLyAgIHJldHVybiB7IHByb3BzOiB7IGZlZWQgfSB9XG4vLyB9XG5cbmV4cG9ydCBjb25zdCBnZXRTdGF0aWNQcm9wczogR2V0U3RhdGljUHJvcHMgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IGZlZWQgPSBhd2FpdCBwcmlzbWEucG9zdC5maW5kTWFueSh7XG4gICAgd2hlcmU6IHsgcHVibGlzaGVkOiB0cnVlIH0sXG4gICAgaW5jbHVkZToge1xuICAgICAgYXV0aG9yOiB7XG4gICAgICAgIHNlbGVjdDogeyBuYW1lOiB0cnVlIH0sXG4gICAgICB9LFxuICAgIH0sXG4gIH0pO1xuXG4gIGNvbnN0IGFsbFVzZXJzID0gYXdhaXQgcHJpc21hLnVzZXIuZmluZE1hbnkoe1xuICAgIGluY2x1ZGU6IHsgcG9zdHM6IHRydWUgfSxcbiAgfSlcblxuICByZXR1cm4geyBwcm9wczogeyBmZWVkLCBhbGxVc2VycyB9IH07XG59O1xuXG5hc3luYyBmdW5jdGlvbiBtYWluKCkge1xuICBjb25zdCBhbGxVc2VycyA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRNYW55KHtcbiAgICBpbmNsdWRlOiB7IHBvc3RzOiB0cnVlIH0sXG4gIH0pXG4gIC8vIHVzZSBgY29uc29sZS5kaXJgIHRvIHByaW50IG5lc3RlZCBvYmplY3RzXG4gIGNvbnNvbGUuZGlyKGFsbFVzZXJzLCB7IGRlcHRoOiBudWxsIH0pXG59XG5cbm1haW4oKVxuICAuY2F0Y2goZSA9PiB7XG4gICAgdGhyb3cgZVxuICB9KVxuICAuZmluYWxseShhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgcHJpc21hLiRkaXNjb25uZWN0KClcbn0pXG5cbnR5cGUgUHJvcHMgPSB7XG4gIGZlZWQ6IFBvc3RQcm9wc1tdXG59XG5cbmNvbnN0IEJsb2c6IFJlYWN0LkZDPFByb3BzPiA9IChwcm9wcykgPT4ge1xuICByZXR1cm4gKFxuICAgIDxMYXlvdXQ+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2VcIj5cbiAgICAgICAgPGgxPlB1YmxpYyBGZWVkPC9oMT5cbiAgICAgICAgPG1haW4+XG4gICAgICAgICAge3Byb3BzLmZlZWQubWFwKChwb3N0KSA9PiAoXG4gICAgICAgICAgICA8ZGl2IGtleT17cG9zdC5pZH0gY2xhc3NOYW1lPVwicG9zdFwiPlxuICAgICAgICAgICAgICA8UG9zdCBwb3N0PXtwb3N0fSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvbWFpbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAucG9zdCB7XG4gICAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgICAgICAgdHJhbnNpdGlvbjogYm94LXNoYWRvdyAwLjFzIGVhc2UtaW47XG4gICAgICAgIH1cblxuICAgICAgICAucG9zdDpob3ZlciB7XG4gICAgICAgICAgYm94LXNoYWRvdzogMXB4IDFweCAzcHggI2FhYTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5wb3N0ICsgLnBvc3Qge1xuICAgICAgICAgIG1hcmdpbi10b3A6IDJyZW07XG4gICAgICAgIH1cbiAgICAgIGB9PC9zdHlsZT5cbiAgICA8L0xheW91dD5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBCbG9nXG4iXX0= */\\n/*@ sourceURL=/Users/home/Desktop/fullstack-boilerplate/blogr-nextjs-prisma/pages/index.tsx */\"));\n};\n\n_c = Blog;\nexport var __N_SSG = true;\nexport default Blog;\n\nvar _c;\n\n$RefreshReg$(_c, \"Blog\");","map":{"version":3,"sources":["/Users/home/Desktop/fullstack-boilerplate/blogr-nextjs-prisma/pages/index.tsx"],"names":["React","Layout","Post","prisma","main","user","findMany","include","posts","allUsers","console","dir","depth","e","$disconnect","Blog","props","feed","map","post","id"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,IAAP,MAAgC,oBAAhC;AACA,OAAOC,MAAP,MAAmB,eAAnB,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;SAmBeC,I;;;;;mEAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACyBD,MAAM,CAACE,IAAP,CAAYC,QAAZ,CAAqB;AAC1CC,cAAAA,OAAO,EAAE;AAAEC,gBAAAA,KAAK,EAAE;AAAT;AADiC,aAArB,CADzB;;AAAA;AACQC,YAAAA,QADR;AAIE;AACAC,YAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ,EAAsB;AAAEG,cAAAA,KAAK,EAAE;AAAT,aAAtB;;AALF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAQAR,IAAI,WAAJ,CACS,UAAAS,CAAC,EAAI;AACV,QAAMA,CAAN;AACD,CAHH,oFAIW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBACDV,MAAM,CAACW,WAAP,EADC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAJX;;AAYA,IAAMC,IAAqB,GAAG,SAAxBA,IAAwB,CAACC,KAAD,EAAW;AACvC,SACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA,wCAAe,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,KAAK,CAACC,IAAN,CAAWC,GAAX,CAAe,UAACC,IAAD;AAAA,WACd;AAAK,MAAA,GAAG,EAAEA,IAAI,CAACC,EAAf;AAAA,0CAA6B,MAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,IAAD;AAAM,MAAA,IAAI,EAAED,IAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADc;AAAA,GAAf,CADH,CAFF,CADF;AAAA;AAAA;AAAA,s+GADF;AA4BD,CA7BD;;KAAMJ,I;;AA+BN,eAAeA,IAAf","sourcesContent":["import React from \"react\"\nimport { GetStaticProps } from \"next\"\nimport Layout from \"../components/Layout\"\nimport Post, { PostProps } from \"../components/Post\"\nimport prisma from '../lib/prisma';\n\n// export const getStaticProps: GetStaticProps = async () => {\n//   const feed = [\n//     {\n//       id: 1,\n//       title: \"Prisma is the perfect ORM for Next.js\",\n//       content: \"[Prisma](https://github.com/prisma/prisma) and Next.js go _great_ together!\",\n//       published: false,\n//       author: {\n//         name: \"Nikolas Burk\",\n//         email: \"burk@prisma.io\",\n//       },\n//     },\n//   ]\n//   return { props: { feed } }\n// }\n\nexport const getStaticProps: GetStaticProps = async () => {\n  const feed = await prisma.post.findMany({\n    where: { published: true },\n    include: {\n      author: {\n        select: { name: true },\n      },\n    },\n  });\n\n  const allUsers = await prisma.user.findMany({\n    include: { posts: true },\n  })\n\n  return { props: { feed, allUsers } };\n};\n\nasync function main() {\n  const allUsers = await prisma.user.findMany({\n    include: { posts: true },\n  })\n  // use `console.dir` to print nested objects\n  console.dir(allUsers, { depth: null })\n}\n\nmain()\n  .catch(e => {\n    throw e\n  })\n  .finally(async () => {\n    await prisma.$disconnect()\n})\n\ntype Props = {\n  feed: PostProps[]\n}\n\nconst Blog: React.FC<Props> = (props) => {\n  return (\n    <Layout>\n      <div className=\"page\">\n        <h1>Public Feed</h1>\n        <main>\n          {props.feed.map((post) => (\n            <div key={post.id} className=\"post\">\n              <Post post={post} />\n            </div>\n          ))}\n        </main>\n      </div>\n      <style jsx>{`\n        .post {\n          background: white;\n          transition: box-shadow 0.1s ease-in;\n        }\n\n        .post:hover {\n          box-shadow: 1px 1px 3px #aaa;\n        }\n\n        .post + .post {\n          margin-top: 2rem;\n        }\n      `}</style>\n    </Layout>\n  )\n}\n\nexport default Blog\n"]},"metadata":{},"sourceType":"module"}